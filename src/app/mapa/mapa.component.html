<div class="float-right">
  <button type="button" (click)="showDialog()" pButton label="Chat Grupal" class="ui-button-rounded"></button>
</div>
<h1> {{texto}}</h1>
<div class="mom">
  <div class="child">
    <!--Chat grupal-->
    <p-dialog header="Chat Grupal" [(visible)]="display" [modal]="true" [responsive]="true" [style]="{width: '700px', minWidth: '200px'}" [minY]="70" 
    [maximizable]="true" [baseZIndex]="10000">
    <ul class="list-group list-group-flush"> 
      <li class="list-group-item list-group-item-dark" *ngFor="let message of messages | async">
       <font color="#4682B4">{{message.name}} </font> 
        <br>
        {{message.message}} 
        <a href="{{message.link}}">{{message.link}}</a> 
      </li>
    </ul>
   <div class="lista">
    <div class="col1">
     <input type="text" name="mensaje" pInputText autocorrect="on" [(ngModel)]="mensaje" size="45" placeholder="Escribe un mensaje">
    </div>
    <div class="col2">
        <p-button (click)="enviar()" label="Enviar"></p-button>
      </div>
   </div>
    <p-footer>
        <button type="button" pButton icon="pi pi-times" (click)="display=false" label="Cerrar" class="ui-button-rounded ui-button-danger"></button>
    </p-footer>
</p-dialog>
  </div>
</div>
<div class="form-group">
  <label>Ingresar dirección</label>
  <input type="text" class="form-control" (keydown.enter)="$event.preventDefault()" placeholder="Realiza una búsqueda" autocorrect="on" autocapitalize="off" spellcheck="off" type="text" #search>
</div>
<agm-map [latitude]="latitude" [zoom]="zoom" [longitude]="longitude">
  <agm-marker [latitude]="latitude" [longitude]="longitude" [markerDraggable]="true"
  (dragEnd)="markerDragEnd($event)" (markerClick)="clickedMarker()"></agm-marker>
</agm-map>
<div class="lista">
  <!--Chat uno a uno-->
    <h3>Verificadores activos</h3>
<!--Modal creación de tareas-->
<p-dialog header="Crear tarea" [(visible)]="display3" [modal]="true" [responsive]="true" [style]="{width: '500px'}" [minY]="70" 
[maximizable]="true" [baseZIndex]="10000">
<div>
<div class="col1">
  <p>Latitud</p>
<p>{{this.latitude}}</p>
</div>
<div class="col2">
    <p>Longitud</p>
  <p>{{this.longitude}}</p>
  </div>
</div>
<div>
<div class=col1>
    <p>Dirección</p>
  <p>{{this.address}}</p>
  </div>
  </div>
  <div>
      <div class=col1>
          <form>
            Cliente:<br>
            <input type="text" name="cliente"  [(ngModel)]="Cliente" required><br>
            Digital:<br>
            <input type="text" name="Digital"  [(ngModel)]="Digital" required><br>
          <br>
            <p-dropdown name="name" [options]="usuario" [(ngModel)]="user" placeholder="Asignar"  editable="true"></p-dropdown>
            <br><br>
            <input type="button" value="Crear" (click)="onSubmit()" pInputText>
          </form>
        </div>
  </div>      
<p-footer>
    <button type="button" pButton icon="pi pi-times" (click)="display3=false" label="Cerrar" class="ui-button-rounded ui-button-danger"></button>
</p-footer>
</p-dialog>
  <ul class="list-group"> 
  <li class="list-group-item list-group-item-action list-group-item-primary" *ngFor="let usuario of usuarios | async">
    {{usuario.id}}-{{usuario.Nombre}} 
    <div class="float-right">
      <i class="pi pi-comment" (click)="showDialog2(usuario.id)"></i>
    </div> 
      <div class="float-right">
      <i class='fas fa-car' style="margin-right:0.5em; color: green"></i>
    </div> 
  </li>
  <p-dialog header="Chat" [(visible)]="display2" [modal]="true" [responsive]="true" [style]="{width: '700px', minWidth: '200px'}" [minY]="70" 
  [maximizable]="true" [baseZIndex]="10000">
  <ul class="list-group list-group-flush"> 
    <li class="list-group-item list-group-item-dark" *ngFor="let message of messagesU | async">
     <font color="#4682B4">{{message.name}} </font> 
      <br>
      {{message.message}}
      <a href="{{message.link}}">{{message.link}}</a>
    </li>
  </ul>
 <div class="lista">
  <div class="col1">
   <input type="text" name="mensaje" pInputText autocorrect="on" [(ngModel)]="mensaje" size="45" placeholder="Escribe un mensaje">
  </div>
  <div class="col2">
      <p-button (click)="enviarU()" label="Enviar"></p-button>
    </div>
 </div>
  <p-footer>
      <button type="button" pButton icon="pi pi-times" (click)="display2=false" label="Cerrar" class="ui-button-rounded ui-button-danger"></button>
  </p-footer>
</p-dialog>
</ul>
</div>
<div class="lista">
   <h3>Vehículos disponibles</h3>
    <ul class="list-group"> 
        <li class="list-group-item list-group-item-action list-group-item-primary" *ngFor="let car of flota | async">
          {{car.Tipo}} - {{car.Economico}}
        </li>
      </ul>
</div>